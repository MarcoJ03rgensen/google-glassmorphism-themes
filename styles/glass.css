/* GLASSMORPHISM & ANIMATION THEMES */

:root {
  /* Default Ocean Theme */
  --bg-top: #004d7a;
  --bg-bottom: #001f3f;
  --glass-panel: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.15);
  --text-main: #e2e8f0;
  --text-muted: #94a3b8;
  --accent: #38bdf8;
  --radius: 16px;
  --blur: 16px;
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Apple Frost Theme */
html[data-theme="apple"] {
  --bg-top: #f5f5f7;
  --bg-bottom: #e0e0e2;
  --glass-panel: rgba(255, 255, 255, 0.65);
  --glass-border: rgba(255, 255, 255, 0.4);
  --text-main: #1d1d1f;
  --text-muted: #86868b;
  --accent: #0071e3;
  --radius: 18px;
  --blur: 20px;
  --shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
}

/* Neon Night Theme */
html[data-theme="neon"] {
  --bg-top: #0f0c29;
  --bg-bottom: #302b63;
  --glass-panel: rgba(20, 10, 40, 0.6);
  --glass-border: rgba(139, 92, 246, 0.3);
  --text-main: #fff;
  --text-muted: #c4b5fd;
  --accent: #a78bfa;
  --radius: 12px;
  --blur: 12px;
  --shadow: 0 0 20px rgba(139, 92, 246, 0.2);
}

/* BACKGROUND LAYERS */
#glass-extension-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  background: linear-gradient(180deg, var(--bg-top) 0%, var(--bg-bottom) 100%);
  overflow: hidden;
  pointer-events: none;
}

.light-rays {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    60deg,
    rgba(255, 255, 255, 0.05) 0px,
    rgba(255, 255, 255, 0.05) 40px,
    transparent 40px,
    transparent 120px
  );
  filter: blur(25px);
  opacity: 0.5;
  animation: raysMove 20s infinite linear;
}

@keyframes raysMove {
  from { transform: translateX(-15%) skewX(-5deg); }
  to { transform: translateX(15%) skewX(5deg); }
}

.bubble {
  position: absolute;
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  pointer-events: none;
  animation: rise var(--d) linear infinite;
  bottom: -50px; 
}

@keyframes rise {
  0% { transform: translateY(0) scale(0); opacity: 0; }
  10% { opacity: 0.4; }
  90% { opacity: 0.4; }
  100% { transform: translateY(-110vh) scale(1.5); opacity: 0; }
}

/* GOOGLE UI OVERRIDES */
body, .appbar, #hdtb, #hdtbSum {
  background: transparent !important;
  color: var(--text-main) !important;
}

/* Make main containers glass */
#searchform, #rcnt, .g, .MjjYud, .yuRUbf, .gWMDob, .kp-blk, .c-container {
  background: var(--glass-panel) !important;
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border: 1px solid var(--glass-border) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow) !important;
  margin-bottom: 16px;
  padding: 16px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* Hover effects for search results */
.g:hover, .MjjYud:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.2) !important;
  border-color: var(--accent) !important;
}

/* Search Input Bar */
.RNNXgb, .emcav {
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 20px rgba(0,0,0,0.1) !important;
  border-radius: 24px !important;
}

textarea, input {
  color: var(--text-main) !important;
}

/* Links */
a, cite, .BreadpT {
  color: var(--accent) !important;
  text-decoration: none;
}

/* Secondary text */
.VwiC3b, .s, .st, .f, .kt {
  color: var(--text-muted) !important;
}

/* Hide annoying white backgrounds */
.mw, .rfjfwb, .hdtb-mitem.hdtb-msel, #cnt, #sfcnt {
  background: transparent !important;
}

/* Logo filtering */
/* Invert logo for dark themes (Ocean/Neon) */
html:not([data-theme="apple"]) .lnXdpd, 
html:not([data-theme="apple"]) .jfN4p {
  filter: invert(1) hue-rotate(180deg) brightness(2);
}
